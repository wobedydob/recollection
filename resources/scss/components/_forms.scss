// ==========================================================================
// Forms Component
// ==========================================================================

@use '../index' as *;

// --------------------------------------------------------------------------
// Form Layout
// --------------------------------------------------------------------------

.auth-form,
.profile-form,
.password-form,
.modal-form {
  @include flex-column($spacing-lg);
}

.form-group {
  @include flex-column($spacing-sm);

  & + & {
    margin-top: $spacing-lg;
  }
}

// --------------------------------------------------------------------------
// Labels
// --------------------------------------------------------------------------

.label {
  @include label-base;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.char-count {
  font-size: $font-size-xs;
  font-weight: $font-weight-normal;
  color: $color-text-lighter;
}

// --------------------------------------------------------------------------
// Inputs
// --------------------------------------------------------------------------

.input {
  @include input-base;

  &.match {
    border-color: $color-success;
  }

  &.no-match {
    border-color: $color-error;
  }
}

.input-hint {
  margin: $spacing-xs 0 0 0;
  font-size: 0.8rem;
  color: $color-text-lighter;
}

// --------------------------------------------------------------------------
// Textarea
// --------------------------------------------------------------------------

.idea-textarea {
  @include input-base;
  border-radius: $radius-md;
  font-family: inherit;
  resize: vertical;
  min-height: 100px;
}

// --------------------------------------------------------------------------
// Password Input
// --------------------------------------------------------------------------

.password-input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.password-input {
  flex: 1;
  padding-right: 3.5rem;
}

.toggle-password {
  position: absolute;
  right: $spacing-md;
  background: none;
  border: none;
  font-size: $font-size-md;
  cursor: pointer;
  padding: $spacing-xs;
  opacity: 0.6;
  transition: $transition-opacity;

  &:hover {
    opacity: 1;
  }
}

// --------------------------------------------------------------------------
// Password Strength
// --------------------------------------------------------------------------

.strength-section {
  display: flex;
  align-items: center;
  gap: $spacing-md;
  margin-top: $spacing-sm;
}

.strength-bar {
  flex: 1;
  height: 6px;
  background: $color-border;
  border-radius: 3px;
  overflow: hidden;
}

.strength-fill {
  height: 100%;
  border-radius: 3px;
  transition: width 0.3s ease, background-color 0.3s ease;
}

.strength-label {
  font-size: $font-size-xs;
  font-weight: $font-weight-semibold;
  min-width: 4rem;
}

// --------------------------------------------------------------------------
// Password Requirements
// --------------------------------------------------------------------------

.password-requirements {
  @include flex-column($spacing-xs);
  margin-top: $spacing-md;
}

.requirement {
  display: flex;
  align-items: center;
  gap: $spacing-sm;
  font-size: 0.8rem;
  color: $color-text-light;
  transition: color 0.2s;

  &.met {
    color: $color-success;
  }
}

.requirement-icon {
  font-size: $font-size-xs;
  width: 1rem;
  text-align: center;
}

// --------------------------------------------------------------------------
// Match Feedback
// --------------------------------------------------------------------------

.match-indicator {
  position: absolute;
  right: 2.75rem;
  font-size: $font-size-base;
  font-weight: bold;

  &.match {
    color: $color-success;
  }

  &.no-match {
    color: $color-error;
  }
}

.match-message {
  margin: 0.375rem 0 0 0;
  font-size: 0.8rem;

  &.match {
    color: $color-success;
  }

  &.no-match {
    color: $color-error;
  }
}

// --------------------------------------------------------------------------
// Settings Section
// --------------------------------------------------------------------------

.settings-section {
  margin-top: $spacing-2xl;
  padding-top: $spacing-xl;
  border-top: 1px solid $color-border-light;
}

.setting-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: $spacing-lg;
}

.setting-label {
  font-size: $font-size-base;
  font-weight: $font-weight-medium;
  color: $color-text-secondary;
}

.theme-switcher {
  display: flex;
  background: $color-bg-subtle;
  border-radius: $radius-md;
  padding: 0.25rem;
  gap: 0.25rem;
}

.theme-option {
  padding: $spacing-sm $spacing-base;
  border: none;
  border-radius: $radius-sm;
  background: transparent;
  font-size: $font-size-sm;
  color: $color-text-muted;
  cursor: pointer;
  transition: $transition-base;

  &:hover {
    color: $color-text-secondary;
  }

  &.active {
    background: $color-bg-white;
    color: $color-text-primary;
    box-shadow: $shadow-sm;
  }
}
