import{j as U,H as E,I as H,r,J as $,k as l,c,o as p,a as t,v as z,s as x,p as s,t as i,B as C,C as A,D as V,K as P,q as W,G as M,d as w,b as G,w as J,e as Z,_ as K}from"./CdnJ470i.js";const F={class:"auth-page"},O={class:"auth-card"},Q={key:0,class:"error-message"},X={class:"form-group"},Y={class:"form-group"},ee={class:"form-group"},se={class:"password-input-wrapper"},te=["type"],ae=["title"],oe={key:0,class:"strength-section"},ne={class:"strength-bar"},le={class:"password-requirements"},re={class:"requirement-icon"},ie={class:"requirement-icon"},ue={class:"requirement-icon"},de={class:"form-group"},ce={class:"password-input-wrapper"},pe=["type"],me=["title"],ve={key:0,class:"match-indicator match"},he={key:1,class:"match-indicator no-match"},we={key:0,class:"match-message no-match"},fe={key:1,class:"match-message match"},ge=["disabled"],_e={class:"auth-footer"},be=U({__name:"register",setup(ke){const{register:B,isLoggedIn:D}=E(),j=H(),f=r(""),g=r(""),a=r(""),u=r(""),d=r(""),_=r(!1),v=r(!1),h=r(!1);$(D,o=>{o&&j.push("/")},{immediate:!0});const b=l(()=>a.value.length>=6),k=l(()=>/\d/.test(a.value)),y=l(()=>/[!@#$%^&*(),.?":{}|<>_\-+=\[\]\\\/`~]/.test(a.value)),q=l(()=>u.value.length>0&&a.value===u.value),S=l(()=>u.value.length>0&&a.value!==u.value),m=l(()=>{let o=0;return b.value&&o++,k.value&&o++,y.value&&o++,o}),I=l(()=>a.value.length===0?"":m.value===0||m.value===1?"Zwak":m.value===2?"Gemiddeld":"Sterk"),N=l(()=>m.value<=1?"#e57373":m.value===2?"#ffb74d":"#81c784"),L=l(()=>b.value&&k.value&&y.value);async function R(){if(d.value="",!L.value){d.value="Wachtwoord voldoet niet aan de eisen";return}if(!q.value){d.value="Wachtwoorden komen niet overeen";return}_.value=!0;try{const o=await B(g.value,a.value,f.value);o.success?j.push("/"):d.value=o.error||"Registratie mislukt"}catch{d.value="Er ging iets mis"}finally{_.value=!1}}return(o,e)=>{const T=Z;return p(),c("div",F,[t("div",O,[e[15]||(e[15]=t("h1",{class:"auth-title"},"Account Aanmaken",-1)),e[16]||(e[16]=t("p",{class:"auth-subtitle"},"Begin je Recollectie avontuur",-1)),t("form",{onSubmit:z(R,["prevent"]),class:"auth-form"},[s(d)?(p(),c("div",Q,i(s(d)),1)):x("",!0),t("div",X,[e[6]||(e[6]=t("label",{class:"label",for:"name"},"Naam",-1)),C(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=n=>V(f)?f.value=n:null),type:"text",class:"input",placeholder:"Je naam",required:"",autofocus:""},null,512),[[A,s(f)]])]),t("div",Y,[e[7]||(e[7]=t("label",{class:"label",for:"email"},"E-mail",-1)),C(t("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=n=>V(g)?g.value=n:null),type:"email",class:"input",placeholder:"jij@voorbeeld.nl",required:""},null,512),[[A,s(g)]])]),t("div",ee,[e[11]||(e[11]=t("label",{class:"label",for:"password"},"Wachtwoord",-1)),t("div",se,[C(t("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=n=>V(a)?a.value=n:null),type:s(v)?"text":"password",class:"input password-input",placeholder:"Maak een sterk wachtwoord",required:""},null,8,te),[[P,s(a)]]),t("button",{type:"button",class:"toggle-password",onClick:e[3]||(e[3]=n=>v.value=!s(v)),title:s(v)?"Verberg wachtwoord":"Toon wachtwoord"},i(s(v)?"ðŸ™ˆ":"ðŸ‘ï¸"),9,ae)]),s(a).length>0?(p(),c("div",oe,[t("div",ne,[t("div",{class:"strength-fill",style:W({width:s(m)/3*100+"%",backgroundColor:s(N)})},null,4)]),t("span",{class:"strength-label",style:W({color:s(N)})},i(s(I)),5)])):x("",!0),t("div",le,[t("div",{class:M(["requirement",{met:s(b)}])},[t("span",re,i(s(b)?"âœ“":"â—‹"),1),e[8]||(e[8]=w(" Minimaal 6 tekens ",-1))],2),t("div",{class:M(["requirement",{met:s(k)}])},[t("span",ie,i(s(k)?"âœ“":"â—‹"),1),e[9]||(e[9]=w(" Minimaal 1 cijfer ",-1))],2),t("div",{class:M(["requirement",{met:s(y)}])},[t("span",ue,i(s(y)?"âœ“":"â—‹"),1),e[10]||(e[10]=w(" Minimaal 1 speciaal teken ",-1))],2)])]),t("div",de,[e[12]||(e[12]=t("label",{class:"label",for:"confirmPassword"},"Wachtwoord bevestigen",-1)),t("div",ce,[C(t("input",{id:"confirmPassword","onUpdate:modelValue":e[4]||(e[4]=n=>V(u)?u.value=n:null),type:s(h)?"text":"password",class:M(["input password-input",{match:s(q),"no-match":s(S)}]),placeholder:"Herhaal je wachtwoord",required:""},null,10,pe),[[P,s(u)]]),t("button",{type:"button",class:"toggle-password",onClick:e[5]||(e[5]=n=>h.value=!s(h)),title:s(h)?"Verberg wachtwoord":"Toon wachtwoord"},i(s(h)?"ðŸ™ˆ":"ðŸ‘ï¸"),9,me),s(q)?(p(),c("span",ve,"âœ“")):s(S)?(p(),c("span",he,"âœ—")):x("",!0)]),s(S)?(p(),c("p",we,"Wachtwoorden komen niet overeen")):s(q)?(p(),c("p",fe,"Wachtwoorden komen overeen")):x("",!0)]),t("button",{type:"submit",class:"submit-btn",disabled:s(_)},i(s(_)?"Account aanmaken...":"Account Aanmaken"),9,ge)],32),t("p",_e,[e[14]||(e[14]=w(" Heb je al een account? ",-1)),G(T,{to:"/login",class:"auth-link"},{default:J(()=>[...e[13]||(e[13]=[w("Inloggen",-1)])]),_:1})])])])}}}),qe=K(be,[["__scopeId","data-v-f742b929"]]);export{qe as default};
